{% extends 'base.html' %} <!-- base.html from 'user_accounts' app -->
{% block head %} 
    <title>"Reddit"</title>
    <style>
        /* 9%, 5% */
		#vote-div{
		    background-color: #f0f0f0;
		}
		
		#entry-div{
			border-bottom: 1px solid #f0f0f0;
		}
		
		#post-div{
			background-color: white;
		}
		
		#entry-div:hover {
			background-color: #fcfcfc;
		}
		
		#entry{
			border-left: 3px solid #c0c0c0;
			-moz-transition: all 0.2s;
			-webkit-transition: all 0.2s;
			transition: all 1s;
		}
		
		#entry:hover {
			border-left: 3px solid #9b9b9b;
		}
		
        .rank {
            background-color: #c0c0c0;
            height: 60px;
            width: 36px;
        }

        .votes * {
            background-color: #e1e1e1;
            height: 31px;
            width: 25px;
            padding: 9px 0 0 6px;
            font-size: 13px;
        }

        .upvote {
            border-radius: 5px 5px 0 0;
        }

        .downvote {
            border-radius: 0 0 5px 5px;
        }
		
		#options-div{
			background-color: white;
			border-bottom: 5px;
			border-right: 5px;
		
		}
    </style>

    {% load static %}
    <script type="text/javascript" src="{% static 'home/vote_buttons.js' %}"></script>

{% endblock %}



{% block body %}
    <div class="container">
        <div class="content row">
            <div id = "post-div" class="col-md-9">
                {% for post,vote in posts %}
                <div  class="row container">
                    <div id = "vote-div" class="row col-2 pt-3">
						<div class = "rank .col-6 .col-sm-2 pt-3 rounded text-white text-center">
							{{ post.points }}
						</div>
                    
						<div class="votes .col-6 .col-sm-10 ml-2 d-inline-flex flex-column">
							<i onclick="upvote(this.parentNode, {{ post.post_id }}, {{cur_user}})" class="upvote fa fa-arrow-up mx-auto" aria-hidden="true"></i>
							<i onclick="downvote(this.parentNode, {{ post.post_id }}, {{cur_user}})" class="downvote fa fa-arrow-down mx-auto" aria-hidden="true"></i>
							<script>update_vote(document.currentScript.parentNode, {{vote}} )</script>
						</div>
					</div>

                    <div id = "entry-div" class="col-9 ml-3 pl-3 pt-3">
						<div id = "entry" class ="pl-3">
							<h3 style="font-size:1.5em" class="text-primary mb-0"> <a href="{% url 'home:post' post_id=post.post_id %}">{{post.title}}</a> </h3>
							<p class="mb-0" style="font-size:0.8em"> submitted by: <a href="{% url 'user_accounts:profile_with_pk' pk=post.user.pk %}">{{ post.user.username }}</a>   at {{post.created}} </p>
							<p style="font-size:0.8em"> 0 comments</p>
						</div>
                    </div>
                </div>


                {% endfor %}

                <div><a href="#">next</a></div>
                <div style="height:200px;">&nbsp;</div>
            </div>


            <div id = "options-div" class="col-md-3">
                <h3 style="font-size:1.3em;" class="text-primary pl-4"><a href="{% url 'home:create_post' %}">Submit a Post</a></h3>
            </div>

        </div>
    </div>
{% endblock %}


